 **Идеи**

1) Добавить в профиль просмотр игр с историей ходов и чтобы можно было 
просмотреть доску (вместо диаграммы)

2) Адаптивный дизайн нужен

3) Сделать выбор по уровню сложности бота

4) Сделать выбор по цвету в одиночке

5) Нормальный рейтинг в плане выдачи ранга

6) Сделать бота еще сильнее

7) Если пользователь не зареган после окончания игры он не должен получать очки, должно высветиться типа
вы могли бы получать рейтинг, в таком духе предложения выйти в главное меню или зарегаться

8) Сделать так, чтобы показался только последний ход, а остальные в истории лежали в кэше

10) Добавить жетоны двойного рейтинга

11) Если пользователь не ходит минуту - автоматически проигрывает





 **Реализованные идеи:**

1) Сервер с шашками (Сделал)

2) Таймер (Сделал)

3) Сделать так, чтобы если юзер вышел и вошел обратно ему высвечивалось 
предложение вернуться в игру или покинуть ее (Сделал)

4) Добавить звуки хода шашек (Сделал)
Не только ходы, добавил на: победу, поражение, ходы и нахождение игры

5) Сделать игру без регистрации **(Приоритет)** (Сделал)

6) Сделать бота намного сложнее и умнее (Сделал)

7) Защита от sql инъекций (Сделал)

8) Сетевая игра для незареганого (Сделал для пользователя со стороны)

9) Сделать иконку сверху браузера (около title) (Сделал)

10) Возле WertRar коронку сделать (Сделал)

11) Новогоднее настроение для шашек :)










 **Баги:**

1) Почему-то иногда багается сам канвас в процессе игры --- фигуры 1 раз пропали, после обновления странички все 
исправилось и больше не появлялось. Примечание: возникает именно на сервере такая ошибка, на локальном компьютере
все нормально.  (Не пофикшено)

2) Иногда багается что-то и выдает ошибку 403, будто у вас нет допуска к этой игре,
хотя он должен быть (Не пофикшено)

3) Один раз было, что после множественного захвата (и не только) выдавало ошибку, мол not your tern, хотя я уже 
походил и сейчас ходят другие фигуры. Примечание: возникает именно на сервере такая ошибка, на локальном компьютере
все нормально (Не пофикшено)

4) Выдало ошибку на доске undefind и потом написало game id не найден
Это все было во время игры

КАК МОЖНО ПОФИКСИТЬ:

Если информация пустая приходит с сервера, то на доске ничего не меняется

5) Когда смотришь статистику игрока бывает такое, что она вызывается повторно бесконечное
количество раз (не знаю при каких условиях, надо будет в тестах смотреть)

6) Когда игрок полностью выходит со своего профиля, заходит обратно - ему не предлагает вернуться в игру

7) Когда обновляешь страничку за черных - во время загрузки вместо черных фигур белые стоят, но потом все нормально









 **ПОФИКШЕННЫЕ БАГИ:**

1) Дамки пропадают при просмотре истории игры (Пофиксил)

2) Когда ничья - дается +2 игры (Пофиксил)

3) Когда игрок находивший игру быстрее сдавался или выходил с нее - у второго игрока был бесконечный поиск (Пофиксил)

4) Сделать чтобы нельзя было делать русские буквы и символы в логине (Пофиксил)

5) Время иногда багается - сделать так, чтобы время начинало идти только после того, как оба игрока загрузятся (Пофиксил)

6) Неправильная отрисовка (Пофиксил)
Суть - для белых все нормально
Для черных - нет

7) Неправильный показ фигур в истории ходов (Пофиксил)










 **Комментарии к решению проблем:**

1) Проблема с отображением дамок при просмотре истории игры заключалась в том, что информация
о превращении шашки в дамку mode или is_king не сохранялась и не передавалась корректно клиентской части.
Решение:
* Добавил флаг promotion_occurred для отслеживания превращения шашки в дамку
  и изменял его в validate_move если происходило превращение
* Добавил передачу promotion по promotion_occurred в функцию validate_move и move для передачи на клиент

2) Проблема с увеличением счёта ничьих на +2 вместо +1 возникла из-за двойной обработки события ничьей
в двух разных маршрутах на серверной стороне. Исправив это путем удаления обновления статистики из маршрута
/respond_draw_route и оставив обновление статистики только в маршруте /update_board, избежали
двойного увеличения счёта ничьих

3) Изменил логику обработки ситуаций, когда игра завершается или невозможно присоединиться к существующей партии

4) Ну просто запретил вписывать это

5) Просто сделал так, чтобы время прогружалось тогда, когда оба игрока прогрузятся на board

6) Я исправил неправильную отрисовку координат в списке ходов, изменив функцию преобразования координат
в зависимости от цвета игрока. Теперь, если игрок играет за чёрных, координаты отражаются по горизонтали
и вертикали, чтобы они соответствовали его перспективе на доске.

7) Когда я добавил переворот доски в функциях viewBoardState и returnToCurrentView, это помогло 
правильно отображать фигуры для черных игроков при просмотре истории ходов.

Проблема с исчезновением фигур на канвасе:

Синхронизация состояния игры: Возможны расхождения между состоянием игры на сервере и тем, что отображается на клиенте.
Проблемы с обновлением game.pieces: Некорректные обновления списка фигур могут привести к их исчезновению.
Если несколько потоков одновременно изменяют состояние игры без надлежащей синхронизации, это может привести к исчезновению данных.

Ошибка 403 при попытке доступа к игре:

Возможно, сессия пользователя не корректно устанавливается или сохраняется.
Пользователь может не быть корректно привязан к конкретной игре
Если игра завершается и удаляется из активных игр, но сессия пользователя ещё содержит game_id, клиент может пытаться обратиться к несуществующей игре.
Сессии пользователей корректно сохраняются и восстанавливаются на сервере


Ошибка "not your turn":

После совершения хода текущий игрок переключается на другого игрока, даже если требуется выполнить множественный захват. (Надо найти ошибку)
Если после множественного захвата game.must_capture_piece не обновляется правильно, сервер может считать, что ход завершён и переключить его на другого игрока
Если несколько потоков одновременно обращаются к одному и тому же объекту игры без должной синхронизации, это может привести к состояниям гонки, где current_player переключается некорректно
Клиент может неправильно обрабатывать ответ сервера при multiple_capture, например, сбрасывать состояние выбора фигуры или не сохранять информацию о необходимости продолжить захват
Метод switch_turn может некорректно переключать текущего игрока, например, из-за неправильной логики или внешнего вмешательства

Ошибка "undefined" на доске и "game id не найден":

Клиент может использовать неправильный или устаревший game_id, который не существует на сервере.
Игра может быть неожиданно удалена из current_games или unstarted_games из-за ошибок или некорректных условий.
Сессия пользователя может содержать неверный game_id, например, из-за ошибок в логике присвоения или удаления game_id
Клиент может некорректно передавать или сохранять game_id, например, из-за ошибок в JavaScript коде
Несоответствие между состоянием на клиенте и сервере из-за асинхронности запросов, что может привести к использованию неправильного game_id
Некорректная обработка маршрутов может приводить к тому, что сервер не распознает game_id