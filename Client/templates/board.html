<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+JX4rD1RrVZk2zXKWr8+8Y"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="{{ url_for('static', filename='styles.css') }}"
    />
    <title>Шашки</title>
  </head>

  <body onload="onLoad()">
    <div class="sidebar">
      <h2>Меню</h2>
      <button id="give-up-button" onclick="give_up()">Сдаться</button>
      <button id="give-draw-button" onclick="give_draw()">Предложить ничью</button>
      <h3>Ходы игроков</h3>
      <ul class="moves-list">
        <li>
          <span class="move-player">Игрок 1</span>
          <span class="move-description">E2-E4</span>
        </li>
        <li>
          <span class="move-player">Игрок 2</span>
          <span class="move-description">E7-E5</span>
        </li>
        <!-- надо будет добавить чтобы ходы сюда записывались вместо примеров -->
      </ul>
    </div>
    <div class="header">
      <div class="status" id="status">Сейчас ходят белые</div>
    </div>
    <div class="board-container">
      <canvas id="board"></canvas>
    </div>

    <div id="game-over-modal" class="modal">
      <div class="modal-content">
        <h2 id="game-over-title">
          <i class="fas fa-trophy"></i> Игра окончена
        </h2>
        <p id="game-over-message"></p>
        <button onclick="returnToMainMenu()">Вернуться в главное меню</button>
      </div>
    </div>

    <div id="draw-offer-modal" class="modal" style="display: none;">
      <div class="modal-content">
        <h2>Предложение ничьей</h2>
        <p>Ваш противник предложил ничью. Примите или отклоните предложение.</p>
        <button onclick="respond_draw('accept')">Принять</button>
        <button onclick="respond_draw('decline')">Отклонить</button>
      </div>
    </div>

    <script>
      var user_login = "{{ user_login }}";
      var game_id = "{{ game_id }}";
      var user_color = "{{ user_color }}";
    </script>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
  </body>
</html>
